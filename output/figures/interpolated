{
  "name": "Echogram and CTD Interpolation Project",
  "version": "1.0",
  "description": "A project to read and interpolate echogram and CTD data.",
  "main": "main.R",
  "scripts": {
    "install": [
      "install.packages(c('dplyr', 'ggplot2', 'akima', 'lubridate', 'oce'))"
    ],
    "run": "Rscript main.R"
  },
  "dependencies": {
    "dplyr": "^1.0.7",
    "ggplot2": "^3.3.5",
    "akima": "^0.6-2",
    "lubridate": "^1.7.10",
    "oce": "^1.5-0"
  },
  "files": [
    {
      "name": "data",
      "type": "folder",
      "files": [
        {
          "name": "echogram_data.csv",
          "type": "file"
        },
        {
          "name": "ctd_data.csv",
          "type": "file"
        }
      ]
    },
    {
      "name": "main.R",
      "type": "file",
      "content": [
        "library(dplyr)",
        "library(ggplot2)",
        "library(akima)",
        "library(lubridate)",
        "library(oce)",
        "",
        "echogram_data <- read.csv('data/echogram_data.csv')",
        "ctd_data <- read.csv('data/ctd_data.csv')",
        "",
        "ctd_interpolated <- function(ctd_data) {",
        "  interp_result <- interp(ctd_data$Int, ctd_data$Depth, ctd_data$Sigma,",
        "                          linear = TRUE, duplicate = 'mean')",
        "  return(interp_result)",
        "}",
        "",
        "interpolated_profiles <- lapply(split(ctd_data, ctd_data$Transect), ctd_interpolated)",
        "",
        "plot_interpolated_profiles <- function(interpolated_profiles) {",
        "  for (i in seq_along(interpolated_profiles)) {",
        "    profile <- interpolated_profiles[[i]]",
        "    ggplot(data = as.data.frame(profile), aes(x = x, y = y)) +",
        "      geom_raster(aes(fill = z)) +",
        "      scale_y_reverse() +",
        "      labs(title = paste('Interpolated Profile for Transect', i)) +",
        "      theme_minimal()",
        "  }",
        "}",
        "",
        "plot_interpolated_profiles(interpolated_profiles)"
      ]
    }
  ]
}